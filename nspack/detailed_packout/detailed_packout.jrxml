<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.18.1.final using JasperReports Library version 6.18.1-9d75d1969e774d4f179fb3be8401e98a0e6d1611  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="detailed_packout" language="groovy" pageWidth="595" pageHeight="842" whenNoDataType="NoDataSection" columnWidth="565" leftMargin="15" rightMargin="15" topMargin="15" bottomMargin="15" uuid="c08c8ed1-c3fa-4b77-b7f2-d6e11642b1b0">
	<property name="ireport.zoom" value="5.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="nspack"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="production_run_id" class="java.util.Collection" nestedType="java.lang.Integer"/>
	<parameter name="carton_or_bin" class="java.lang.String">
		<defaultValueExpression><![CDATA['Carton']]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="use_packed_weight" class="java.lang.Boolean"/>
	<parameter name="dispatched_only" class="java.lang.Boolean"/>
	<parameter name="client_code" class="java.lang.String"/>
	<queryString language="plsql">
		<![CDATA[with rebins as (
select rmt_classes.rmt_class_code ,rmt_classes.id as rmt_class,pr.cultivar_id ,pr.farm_id ,
count(distinct b.id) AS no_of_rebins
,sum(b.nett_weight::numeric(12,2)) AS total_rebin_weight
FROM  production_runs pr
left join rmt_bins b on pr.id=b.production_run_rebin_id
LEFT JOIN rmt_classes ON rmt_classes.id = b.rmt_class_id
LEFT JOIN cultivar_groups ON cultivar_groups.id = b.cultivar_group_id
LEFT JOIN cultivars ON cultivars.id = b.cultivar_id
LEFT JOIN farms ON farms.id = b.farm_id
WHERE not  ( b.scrapped =true)  and  $X{IN, pr.id , production_run_id}
group by rmt_classes.rmt_class_code,rmt_classes.id,pr.cultivar_id ,pr.farm_id 
)
,bin_tipped  as (
select pr.cultivar_id ,pr.farm_id ,
string_agg(distinct farms.farm_code::text, '; '   order by farms.farm_code::text )farms,
string_agg(distinct pucs.puc_code::text, '; '   order by pucs.puc_code ::text)pucs,
string_agg(distinct orchards.orchard_code::text, '; '   order by orchards.orchard_code::text )orchards,
string_agg(distinct b.rmt_delivery_id::text, '; '    order by b.rmt_delivery_id::text) deliveries,
string_agg(DISTINCT  cultivars.cultivar_name::text, '; '    order by cultivars.cultivar_name::text) cultivars
,string_agg(DISTINCT b.production_run_tipped_id::text, '; '   order by b.production_run_tipped_id::text  ) runs
,count(b.id) AS no_of_bins
,sum(b.nett_weight::numeric(12,2)) AS total_bin_weight
,sum(b.nett_weight::numeric(12,2))/count(b.id) as avg_weight
,max(rmt_container_types.container_type_code) as container_type_code
FROM  production_runs pr
left join rmt_bins b on pr.id=b.production_run_tipped_id
LEFT JOIN cultivar_groups ON cultivar_groups.id = b.cultivar_group_id
LEFT JOIN cultivars ON cultivars.id = b.cultivar_id
left JOIN orchards ON orchards.id = b.orchard_id
LEFT JOIN farms ON farms.id = b.farm_id
Left join pucs on b.puc_id = pucs.id
LEFT JOIN rmt_container_types ON rmt_container_types.id = b.rmt_container_type_id
WHERE not  ( b.scrapped =true)  and $X{IN, pr.id , production_run_id}
group by pr.cultivar_id ,pr.farm_id
),
run_attrib as (
SELECT  pr.cultivar_id ,pr.farm_id ,cultivars.cultivar_name,
string_agg(distinct farms.farm_code, '; '   order by farms.farm_code )farms,
string_agg(distinct pucs.puc_code, '; '   order by pucs.puc_code )pucs
,string_agg(DISTINCT p.production_run_id::text, '; '   order by p.production_run_id::text  ) runs
,string_agg(distinct orchards.orchard_code, '; '   order by orchards.orchard_code )orchards
,min(pr.started_at) started_at
,max(pr.completed_at) completed_at
,string_agg(distinct date_part('week'::text, pr.started_at)::text, '; '   order by date_part('week'::text, pr.started_at)::text ) as pack_weeks
,EXISTS (
        SELECT
            qc_samples.id
        FROM
            qc_samples
        WHERE
             qc_samples.production_run_id=  pr.id) has_qc_defect
from
production_run_stats p
join production_runs pr on pr.id=p.production_run_id
LEFT JOIN cultivars ON cultivars.id = pr.cultivar_id
LEFT JOIN farms ON farms.id = pr.farm_id
LEFT JOIN pucs ON pucs.id = pr.puc_id
left JOIN orchards ON orchards.id = pr.orchard_id
where  $X{IN, p.production_run_id, production_run_id}
group by pr.id, pr.cultivar_id ,pr.farm_id ,cultivars.cultivar_name,farms.farm_code,pucs.puc_code
)
, packout_details as (
select   production_runs.cultivar_id ,production_runs.farm_id ,   COALESCE(cultivars.cultivar_name, cultivar_groups.cultivar_group_code) AS cultivar,
marketing_varieties.marketing_variety_code,
grades.grade_code,basic_pack_codes.basic_pack_code as basic_pack,
std_fruit_size_counts.size_count_value AS std_size,
fruit_size_references.size_reference AS size_ref,
fruit_actual_counts_for_packs.actual_count_for_pack AS actual_count,
inventory_codes.inventory_code,
sum(pallet_sequences.nett_weight::numeric(12,2)) AS nett_weight,
sum(pallet_sequences.carton_quantity)carton_quantity,
sum(standard_product_weights.nett_weight * pallet_sequences.carton_quantity::numeric) AS derived_nett_weight,
string_agg(DISTINCT packhouses.plant_resource_code, '; '   order by packhouses.plant_resource_code) packhouses,
COALESCE(cvv.marketing_variety_code,marketing_varieties.marketing_variety_code) as variety,
target_market_groups.target_market_group_name                           AS packed_tm_group,
commodities.code as commodity_code	,
marks.mark_code,
fn_party_role_name(pallet_sequences.marketing_org_party_role_id) AS marketing_org
FROM pallet_sequences
JOIN marks ON marks.id = pallet_sequences.mark_id
join pallets on   pallet_sequences.pallet_id =pallets.id
JOIN production_runs ON production_runs.id = pallet_sequences.production_run_id
JOIN plant_resources packhouses ON packhouses.id = pallet_sequences.packhouse_resource_id
JOIN plant_resources lines ON lines.id = pallet_sequences.production_line_id
JOIN target_market_groups ON target_market_groups.id = pallet_sequences.packed_tm_group_id
left JOIN farms ON farms.id = (( SELECT rmt_bins.farm_id
                  FROM rmt_bins
                  WHERE rmt_bins.production_run_tipped_id = production_runs.id
LIMIT 1))
JOIN cultivar_groups ON cultivar_groups.id = pallet_sequences.cultivar_group_id
LEFT JOIN cultivars ON cultivars.id = pallet_sequences.cultivar_id
LEFT JOIN commodities ON commodities.id = cultivar_groups.commodity_id
LEFT JOIN standard_pack_codes ON standard_pack_codes.id = pallet_sequences.standard_pack_code_id
LEFT JOIN standard_product_weights ON commodities.id = standard_product_weights.commodity_id AND standard_product_weights.standard_pack_id = standard_pack_codes.id
JOIN marketing_varieties ON marketing_varieties.id = pallet_sequences.marketing_variety_id
LEFT JOIN customer_varieties ON customer_varieties.id = pallet_sequences.customer_variety_id
LEFT JOIN marketing_varieties cvv ON cvv.id = customer_varieties.variety_as_customer_variety_id
JOIN grades ON grades.id = pallet_sequences.grade_id
LEFT JOIN std_fruit_size_counts ON std_fruit_size_counts.id = pallet_sequences.std_fruit_size_count_id
LEFT JOIN fruit_size_references ON fruit_size_references.id = pallet_sequences.fruit_size_reference_id
LEFT JOIN fruit_actual_counts_for_packs ON fruit_actual_counts_for_packs.id = pallet_sequences.fruit_actual_counts_for_pack_id
JOIN basic_pack_codes ON basic_pack_codes.id = pallet_sequences.basic_pack_code_id
JOIN inventory_codes ON inventory_codes.id = pallet_sequences.inventory_code_id
JOIN production_run_stats ON production_run_stats.production_run_id = pallet_sequences.production_run_id
WHERE case when    $P{dispatched_only}   = true then pallets.load_id is not null else true end and $X{IN, pallet_sequences.production_run_id, production_run_id}
group by   production_runs.cultivar_id ,production_runs.farm_id ,   COALESCE(cultivars.cultivar_name, cultivar_groups.cultivar_group_code) ,
marketing_varieties.marketing_variety_code,
grades.grade_code,
basic_pack_codes.basic_pack_code ,
std_fruit_size_counts.size_count_value ,
fruit_size_references.size_reference ,
fruit_actual_counts_for_packs.actual_count_for_pack ,
inventory_codes.inventory_code
,cvv.marketing_variety_code
,target_market_groups.target_market_group_name,commodities.code
,marks.mark_code
,pallet_sequences.marketing_org_party_role_id
), output_r as (  SELECT
cultivar_id ,
farm_id ,
'Cartons' AS record_type,
cultivar,
marketing_variety_code,
grade_code,
basic_pack,
std_size,
size_ref,
actual_count,
inventory_code,
sum(nett_weight) nett_weight,
sum(derived_nett_weight) AS derived_nett_weight,
sum(carton_quantity) carton_quantity,
packhouses,
variety,
packed_tm_group,
commodity_code,
mark_code,
marketing_org,
null no_of_rebins,
null total_rebin_weight,
null rmt_class_code, 
null rmt_class_id
FROM
packout_details vpd
GROUP BY
cultivar_id ,
farm_id ,
cultivar,
marketing_variety_code,
grade_code,
basic_pack,
std_size,
size_ref,
actual_count,
inventory_code,
packhouses,
variety,
packed_tm_group,
commodity_code,
mark_code,
marketing_org
UNION ALL
select
cultivar_id ,
farm_id ,
'Rebins' AS record_type,
coalesce(cultivar_name, cultivar_group_code) cultivar,
coalesce(cultivar_name, cultivar_group_code) AS marketing_variety_code,
rmt_class_code,
NULL basic_pack,
NULL std_size,
NULL size_ref,
NULL actual_count,
NULL inventory_code,
sum(nett_weight) nett_weight,
sum(nett_weight) AS derived_nett_weight,
count(*) carton_quantity,
NULL packhouses,
coalesce(cultivar_name, cultivar_group_code) AS variety,
NULL packed_tm_group,
NULL commodity_code,
NULL mark_code,
NULL marketing_org,
count(distinct vw_bins.id) AS no_of_rebins,
sum(nett_weight::numeric(12,2)) AS total_rebin_weight,
rmt_class_code,
rmt_class_id
FROM
public.vw_bins
where not  ( scrapped =true) and $X{IN, production_run_rebin_id, production_run_id}
GROUP BY
cultivar_id ,
farm_id ,
cultivar,
coalesce(cultivar_name, cultivar_group_code),
rmt_class_code,
packhouses,
packed_tm_group,
rmt_class_code ,
rmt_class_id
ORDER BY
record_type,
grade_code)
SELECT
    fn_party_role_name ((
        SELECT
            pr.id FROM public.party_roles pr
        WHERE
            pr.role_id = (
                SELECT
                    id FROM roles
                WHERE
                    name = 'IMPLEMENTATION_OWNER')
        LIMIT 1)) AS implementation_owner_name,
    (
        SELECT
            pr.id
        FROM
            public.party_roles pr
        WHERE
            pr.role_id = (
                SELECT
                    id
                FROM
                    roles
                WHERE
                    name = 'IMPLEMENTATION_OWNER')
            LIMIT 1) AS implementation_owner_party_role_id,
run_attrib.pack_weeks,
output_r.packhouses,
coalesce(bin_tipped.farms,run_attrib.farms) farms,
coalesce(bin_tipped.pucs,run_attrib.pucs) pucs,
sum(nett_weight) over () total_weight,
sum(derived_nett_weight) over ()total_derived_weight,
output_r.cultivar,
output_r.marketing_variety_code,
output_r.grade_code,
output_r.basic_pack,
output_r.std_size,
output_r.size_ref,
output_r.actual_count,
output_r.inventory_code,
output_r.nett_weight,
output_r.derived_nett_weight,
output_r.carton_quantity,
output_r.variety,
output_r.packed_tm_group,
output_r.commodity_code,
output_r.mark_code,
output_r.marketing_org,
coalesce(bin_tipped.cultivars,run_attrib.cultivar_name)cultivars
,bin_tipped.no_of_bins,bin_tipped.total_bin_weight,bin_tipped.avg_weight
,bin_tipped.orchards as orchards
,coalesce(bin_tipped.runs,run_attrib.runs) runs
,bin_tipped.deliveries
,run_attrib.started_at
,run_attrib.completed_at
,output_r.rmt_class_code as rebins_rmt_class_code
,output_r.rmt_class_id as rebins_rmt_class
,no_of_rebins
,total_rebin_weight
,bin_tipped.container_type_code,
run_attrib.has_qc_defect
FROM run_attrib
full join bin_tipped on bin_tipped.farm_id=run_attrib.farm_id and bin_tipped.cultivar_id=run_attrib.cultivar_id
full join output_r on run_attrib.farm_id=output_r.farm_id and run_attrib.cultivar_id=output_r.cultivar_id
--full join rebins on rebins.farm_id=run_attrib.farm_id and rebins.cultivar_id=run_attrib.cultivar_id
ORDER BY
record_type,
grade_code,std_size,inventory_code]]>
	</queryString>
	<field name="implementation_owner_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="implementation_owner_name"/>
		<property name="com.jaspersoft.studio.field.label" value="implementation_owner_name"/>
	</field>
	<field name="implementation_owner_party_role_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="implementation_owner_party_role_id"/>
		<property name="com.jaspersoft.studio.field.label" value="implementation_owner_party_role_id"/>
	</field>
	<field name="pack_weeks" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="pack_weeks"/>
		<property name="com.jaspersoft.studio.field.label" value="pack_weeks"/>
	</field>
	<field name="packhouses" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="packhouses"/>
		<property name="com.jaspersoft.studio.field.label" value="packhouses"/>
	</field>
	<field name="farms" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="farms"/>
		<property name="com.jaspersoft.studio.field.label" value="farms"/>
	</field>
	<field name="pucs" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="pucs"/>
		<property name="com.jaspersoft.studio.field.label" value="pucs"/>
	</field>
	<field name="total_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="total_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="total_weight"/>
	</field>
	<field name="total_derived_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="total_derived_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="total_derived_weight"/>
	</field>
	<field name="cultivar" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="cultivar"/>
		<property name="com.jaspersoft.studio.field.label" value="cultivar"/>
	</field>
	<field name="marketing_variety_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="marketing_variety_code"/>
		<property name="com.jaspersoft.studio.field.label" value="marketing_variety_code"/>
	</field>
	<field name="grade_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="grade_code"/>
		<property name="com.jaspersoft.studio.field.label" value="grade_code"/>
	</field>
	<field name="basic_pack" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="basic_pack"/>
		<property name="com.jaspersoft.studio.field.label" value="basic_pack"/>
	</field>
	<field name="std_size" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="std_size"/>
		<property name="com.jaspersoft.studio.field.label" value="std_size"/>
	</field>
	<field name="size_ref" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="size_ref"/>
		<property name="com.jaspersoft.studio.field.label" value="size_ref"/>
	</field>
	<field name="actual_count" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="actual_count"/>
		<property name="com.jaspersoft.studio.field.label" value="actual_count"/>
	</field>
	<field name="inventory_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="inventory_code"/>
		<property name="com.jaspersoft.studio.field.label" value="inventory_code"/>
	</field>
	<field name="nett_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="nett_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="nett_weight"/>
	</field>
	<field name="derived_nett_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="derived_nett_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="derived_nett_weight"/>
	</field>
	<field name="carton_quantity" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="carton_quantity"/>
		<property name="com.jaspersoft.studio.field.label" value="carton_quantity"/>
	</field>
	<field name="variety" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="variety"/>
		<property name="com.jaspersoft.studio.field.label" value="variety"/>
	</field>
	<field name="packed_tm_group" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="packed_tm_group"/>
		<property name="com.jaspersoft.studio.field.label" value="packed_tm_group"/>
	</field>
	<field name="commodity_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="commodity_code"/>
		<property name="com.jaspersoft.studio.field.label" value="commodity_code"/>
	</field>
	<field name="mark_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="mark_code"/>
		<property name="com.jaspersoft.studio.field.label" value="mark_code"/>
	</field>
	<field name="marketing_org" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="marketing_org"/>
		<property name="com.jaspersoft.studio.field.label" value="marketing_org"/>
	</field>
	<field name="cultivars" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="cultivars"/>
		<property name="com.jaspersoft.studio.field.label" value="cultivars"/>
	</field>
	<field name="no_of_bins" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="no_of_bins"/>
		<property name="com.jaspersoft.studio.field.label" value="no_of_bins"/>
	</field>
	<field name="total_bin_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="total_bin_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="total_bin_weight"/>
	</field>
	<field name="avg_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="avg_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="avg_weight"/>
	</field>
	<field name="orchards" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="orchards"/>
		<property name="com.jaspersoft.studio.field.label" value="orchards"/>
	</field>
	<field name="runs" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="runs"/>
		<property name="com.jaspersoft.studio.field.label" value="runs"/>
	</field>
	<field name="deliveries" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="deliveries"/>
		<property name="com.jaspersoft.studio.field.label" value="deliveries"/>
	</field>
	<field name="started_at" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="started_at"/>
		<property name="com.jaspersoft.studio.field.label" value="started_at"/>
	</field>
	<field name="completed_at" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="completed_at"/>
		<property name="com.jaspersoft.studio.field.label" value="completed_at"/>
	</field>
	<field name="rebins_rmt_class_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="rebins_rmt_class_code"/>
		<property name="com.jaspersoft.studio.field.label" value="rebins_rmt_class_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="rmt_classes"/>
	</field>
	<field name="rebins_rmt_class" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="rebins_rmt_class"/>
		<property name="com.jaspersoft.studio.field.label" value="rebins_rmt_class"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="rmt_classes"/>
	</field>
	<field name="no_of_rebins" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="no_of_rebins"/>
		<property name="com.jaspersoft.studio.field.label" value="no_of_rebins"/>
	</field>
	<field name="total_rebin_weight" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="total_rebin_weight"/>
		<property name="com.jaspersoft.studio.field.label" value="total_rebin_weight"/>
	</field>
	<field name="container_type_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="container_type_code"/>
		<property name="com.jaspersoft.studio.field.label" value="container_type_code"/>
	</field>
	<field name="has_qc_defect" class="java.lang.Boolean">
		<property name="com.jaspersoft.studio.field.name" value="has_qc_defect"/>
		<property name="com.jaspersoft.studio.field.label" value="has_qc_defect"/>
	</field>
	<variable name="nett_weight_1" class="java.lang.Double" resetType="Group" resetGroup="grade_code" calculation="Sum">
		<variableExpression><![CDATA[$P{use_packed_weight} ?$F{nett_weight}:$F{derived_nett_weight}]]></variableExpression>
	</variable>
	<variable name="ctn_qty_1" class="java.lang.Long" resetType="Group" resetGroup="grade_code" calculation="Sum">
		<variableExpression><![CDATA[$F{carton_quantity}]]></variableExpression>
	</variable>
	<variable name="nett_weight_2" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{nett_weight}]]></variableExpression>
	</variable>
	<variable name="nett_weight1" class="java.math.BigDecimal" resetType="Group" resetGroup="grade_code" calculation="Sum">
		<variableExpression><![CDATA[$P{use_packed_weight} ?$F{nett_weight}:$F{derived_nett_weight}]]></variableExpression>
	</variable>
	<variable name="derived_nett_weight1" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{derived_nett_weight}]]></variableExpression>
	</variable>
	<variable name="total_bin_qty" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{no_of_bins}]]></variableExpression>
	</variable>
	<variable name="total_bin_weight" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{total_bin_weight}]]></variableExpression>
	</variable>
	<variable name="avg_weight" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$F{total_bin_weight}/$F{no_of_bins}]]></variableExpression>
	</variable>
	<variable name="total_percentage" class="java.math.BigDecimal" resetType="Group" resetGroup="grade_code" calculation="Sum">
		<variableExpression><![CDATA[($P{use_packed_weight} ? ($F{nett_weight}/$F{total_bin_weight}) * 100 : ($F{derived_nett_weight}/$F{total_bin_weight}) * 100).setScale(2,RoundingMode.HALF_UP)]]></variableExpression>
	</variable>
	<group name="grade_code">
		<groupExpression><![CDATA[$F{grade_code}]]></groupExpression>
		<groupFooter>
			<band height="14">
				<property name="com.jaspersoft.studio.unit.height" value="px"/>
				<textField isBlankWhenNull="true">
					<reportElement x="310" y="0" width="42" height="13" uuid="984f2188-bb8b-4c59-b27b-e7dfec964bec">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{ctn_qty_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="354" y="0" width="50" height="13" uuid="54d6ab53-f21b-41e1-91fa-bb70e3282554">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{nett_weight1}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement x="406" y="0" width="40" height="13" uuid="b4615a44-d6a5-4e2e-9146-5e9a00d9dffc">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{total_percentage}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="295">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="0" y="-10" width="564" height="20" uuid="9cdbc90a-8df5-458f-8083-dc525c5296a3">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="15" isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Production Run Packout]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="83" width="564" height="1" uuid="89ba172d-00f4-48e7-b284-6d37cc13b62c">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="59" y="100" width="231" height="13" uuid="b053fd0a-3058-4eb6-a9d2-bbea28ccc769">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pucs}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="2" y="100" width="58" height="13" uuid="137d50a7-17c5-4589-b3b1-9db6731ab8fd">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Producer:]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="134" width="58" height="13" uuid="b2ffc908-1121-4849-9c3a-58346694cba1">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Packhse:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="59" y="134" width="243" height="13" uuid="0a8a09d8-0189-4ae2-b768-aa4ea78086c6">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{packhouses}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="327" y="100" width="73" height="13" uuid="aec0ec44-d68e-44e0-8aaa-2418f6ae5504"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Run numbers:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight" isBlankWhenNull="false">
				<reportElement x="402" y="100" width="118" height="13" uuid="19d279d4-a157-42f8-beba-1a8e20f65999">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{runs}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="2" y="150" width="159" height="13" uuid="83b5bb7b-072f-4f1f-b550-cbbaec921ed0">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Run Start and Completed Date:]]></text>
			</staticText>
			<textField pattern="d MMM h:mm a" isBlankWhenNull="true">
				<reportElement x="164" y="150" width="90" height="13" uuid="bd27c616-88cc-4aac-8b75-43f6e4abcf6c">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{started_at}]]></textFieldExpression>
			</textField>
			<textField pattern="d MMM h:mm a" isBlankWhenNull="true">
				<reportElement x="254" y="150" width="106" height="13" uuid="3ed984ae-c187-4bb7-9b30-aa094e79b919">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{completed_at}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="90" width="564" height="1" uuid="b2a2f44a-1d02-4cd7-8c1e-946662540e70">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="5" y="180" width="100" height="15" uuid="4cf7108d-e680-4b8f-9f7b-c763933648c6">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="11" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[Pack Summary]]></text>
			</staticText>
			<textField pattern="d MMM h:mm a" isBlankWhenNull="true">
				<reportElement x="133" y="196" width="90" height="13" uuid="69d4b2d4-393e-4359-9c1e-c85207aff270">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{commodity_code}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="253" y="196" width="80" height="13" uuid="b957242b-47d7-4f96-b94b-0b94bc511e5f">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Actual Variety:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="333" y="196" width="146" height="13" uuid="0c537053-6c07-47cd-8413-86703a3f3fe3">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{variety}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="43" y="196" width="90" height="12" uuid="a10055b4-a6ce-4c6a-a863-e47fdb124e42">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Fruit Type:]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="209" width="565" height="1" uuid="b6325791-4a3e-4ab4-9ac2-ef4813030145">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="30" width="1" height="53" uuid="64145940-c3f4-4166-b500-f5d7201de50b">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="564" y="10" width="1" height="73" uuid="032b4074-290b-458e-9c4b-523b90326e4e">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="170" width="565" height="1" uuid="2b62e11b-e37a-4cfb-bb52-7efea40d5844">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="565" y="90" width="1" height="81" uuid="3e5beedb-8e76-455d-930e-1919b2e3cd83">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="90" width="1" height="81" uuid="60954d32-71e8-4227-871c-321be13ef6e2">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="176" width="564" height="1" uuid="4387be1c-6f09-4582-b64e-8ea4aad5747a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="176" width="1" height="33" uuid="bab27408-13d1-406d-b5f0-c4848594b543">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="564" y="176" width="1" height="33" uuid="767823c8-236b-4482-af2a-07b53c395d19">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<frame>
				<reportElement positionType="Float" x="0" y="225" width="560" height="63" uuid="16e1d7ba-4bae-4a4f-8f78-f7c8e21e2bd2">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<subreport>
					<reportElement x="250" y="23" width="200" height="5" uuid="e93f3f38-4bca-4965-a41d-e3aa6e2a1e40">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<subreportParameter name="production_run_id">
						<subreportParameterExpression><![CDATA[$P{production_run_id}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="carton_or_bin">
						<subreportParameterExpression><![CDATA[$P{carton_or_bin}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="dispatched_only">
						<subreportParameterExpression><![CDATA[$P{dispatched_only}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="use_packed_weight">
						<subreportParameterExpression><![CDATA[$P{use_packed_weight}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression><![CDATA["delivery_summary.jasper"]]></subreportExpression>
				</subreport>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="155" y="49" width="50" height="11" uuid="bc53ba43-5494-4814-a076-cebd8fea3321">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{total_bin_weight}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="7" y="49" width="79" height="11" uuid="da29db53-acc8-452f-81e9-d6696a048055">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font size="9"/>
					</textElement>
					<text><![CDATA[Total Tipped Kgs:]]></text>
				</staticText>
				<staticText>
					<reportElement x="7" y="10" width="105" height="13" uuid="67bf0217-efc7-46ef-9076-8a3477eb016f">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement>
						<font size="11" isBold="true" isUnderline="false"/>
					</textElement>
					<text><![CDATA[Bin tipping]]></text>
				</staticText>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="50" y="35" width="30" height="11" uuid="b9d0c801-717a-4b52-a413-75f56a647676">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{grade_code}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="50" y="23" width="30" height="11" uuid="c4d441f1-e322-4015-a065-a15a6b2b5d86">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Grade]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="82" y="35" width="30" height="11" uuid="d510ea45-1c48-4cf2-bb12-6518ee14efbf">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{no_of_bins}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="155" y="35" width="50" height="11" uuid="4be510fd-b8f1-41fd-ad0b-a2617d8ae6a1">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{total_bin_weight}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="114" y="23" width="40" height="11" uuid="fd2cec5d-2247-4531-bf82-5806eb3d9a7c">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Ave.Kgs]]></text>
				</staticText>
				<textField pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement x="114" y="35" width="40" height="11" uuid="4e14b9c2-6089-492b-a489-7d50797d3cea">
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
					</reportElement>
					<textElement textAlignment="Right">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{avg_weight}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="155" y="23" width="50" height="11" uuid="280188ca-db0f-49aa-931a-0c04d2241a0e">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Kgs]]></text>
				</staticText>
				<staticText>
					<reportElement x="82" y="23" width="30" height="11" uuid="10426675-af70-4122-aa28-95baaaec4688">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Qty]]></text>
				</staticText>
				<staticText>
					<reportElement x="7" y="23" width="40" height="11" uuid="55cd919c-2a44-4d48-a73a-bb7b30aa8f5f">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[Bin Type]]></text>
				</staticText>
				<textField isBlankWhenNull="true">
					<reportElement x="7" y="36" width="40" height="11" uuid="f0e907d1-ef93-41d8-895b-4a39a2569718">
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{container_type_code}]]></textFieldExpression>
				</textField>
			</frame>
			<frame>
				<reportElement positionType="Float" x="0" y="215" width="564" height="7" uuid="3327d790-2f33-4207-8ec9-bba21c32adf5">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<subreport overflowType="Stretch">
					<reportElement x="300" y="5" width="180" height="2" uuid="7c5b1e61-6e9e-421a-9eb5-8fc5832b2303">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<subreportParameter name="production_run_id">
						<subreportParameterExpression><![CDATA[$P{production_run_id}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="dispatched_only">
						<subreportParameterExpression><![CDATA[$P{dispatched_only}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression><![CDATA["grade_summary.jasper"]]></subreportExpression>
				</subreport>
			</frame>
			<staticText>
				<reportElement x="327" y="134" width="75" height="13" uuid="8bffa0dc-19cb-481c-b4b9-7ca5a9c2e6d7">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Bottom">
					<font size="9"/>
				</textElement>
				<text><![CDATA[Pack Week]]></text>
			</staticText>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement x="402" y="134" width="118" height="13" uuid="7842e1df-af13-4a1c-9ab0-9bbeb48ebca4">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pack_weeks}]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="1" width="92" height="83" uuid="8ca27480-6cb1-4412-b4fd-191270a29d4e">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<imageExpression><![CDATA["../logos/" +$P{client_code}  + "_logo.png"]]></imageExpression>
			</image>
			<subreport>
				<reportElement x="445" y="1" width="110" height="80" uuid="904aa406-1e18-4bc6-90df-d3954de51788">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<subreportParameter name="party_role_id">
					<subreportParameterExpression><![CDATA[$F{implementation_owner_party_role_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["../shared/party_role_address.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="2" y="117" width="58" height="13" uuid="be2b9798-7584-49bc-b062-61adb60f87ab">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Farm:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="59" y="117" width="231" height="13" uuid="ae718202-b591-4716-9ae2-5962e7cbeff3">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{farms}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<columnHeader>
		<band height="48">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="464" y="10" width="90" height="11" uuid="ff544d1d-868a-43fc-ba37-0cdc70ffeac1">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Reject/Onfloor Ctns]]></text>
			</staticText>
			<staticText>
				<reportElement x="330" y="10" width="90" height="11" uuid="ffff0795-2aa4-4775-a1db-90f1e105952a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[Passed cartons]]></text>
			</staticText>
			<staticText>
				<reportElement x="5" y="10" width="90" height="13" uuid="afc9edf8-082e-4142-a783-dda4e44fe5ec">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="11" isBold="true"/>
				</textElement>
				<text><![CDATA[Packout]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="29" width="37" height="13" uuid="214572cb-02f4-4d25-884a-8ebf3d008436">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Variety]]></text>
			</staticText>
			<staticText>
				<reportElement x="41" y="29" width="37" height="13" uuid="54f5c68e-d73e-4b68-b174-c37ca222c750">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Grade]]></text>
			</staticText>
			<staticText>
				<reportElement x="80" y="29" width="37" height="13" uuid="edf7d97b-5444-49f5-9981-0bae0ac562a6">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Pack]]></text>
			</staticText>
			<staticText>
				<reportElement x="119" y="29" width="37" height="13" uuid="20344a4d-eb3e-4e7f-9500-00a2b9d87c64">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Mark]]></text>
			</staticText>
			<staticText>
				<reportElement x="158" y="29" width="37" height="13" uuid="cf3dbf9e-d0c0-4488-a892-9f04ddf301e0">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Orgzn]]></text>
			</staticText>
			<staticText>
				<reportElement x="197" y="29" width="25" height="13" uuid="d361aec9-292a-4fc2-87af-035a831211ee">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[TM]]></text>
			</staticText>
			<staticText>
				<reportElement x="224" y="29" width="25" height="13" uuid="4e08c6a1-4cbe-4a7a-b864-a0036af58efe">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Inv]]></text>
			</staticText>
			<staticText>
				<reportElement x="251" y="29" width="37" height="13" uuid="0ffe91be-e24e-4967-8782-639a669143a5">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Count]]></text>
			</staticText>
			<staticText>
				<reportElement x="319" y="29" width="35" height="13" uuid="88f7c273-3f29-42e5-9213-637ac42e5649">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Qty]]></text>
			</staticText>
			<staticText>
				<reportElement x="360" y="29" width="45" height="13" uuid="ad087b0a-4d84-4e80-adc7-d55b1b49f299">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Kgs]]></text>
			</staticText>
			<staticText>
				<reportElement x="407" y="29" width="38" height="13" uuid="87570555-9f5e-406a-be77-e3c2134fb56b">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
			<staticText>
				<reportElement x="450" y="29" width="25" height="13" uuid="f1496fc8-a21c-41ce-ac2b-7a735c2d0763">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Qty]]></text>
			</staticText>
			<staticText>
				<reportElement x="490" y="29" width="45" height="13" uuid="671a5c4e-b6d9-4d1e-b75b-37d3bb602c2d">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Kgs]]></text>
			</staticText>
			<staticText>
				<reportElement x="537" y="29" width="25" height="13" uuid="562fe6e4-d359-4408-a5e1-d49c437db3ea">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="5" width="564" height="1" uuid="e2f184fc-6278-4cde-81f9-f0a673ab9636">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="44" width="565" height="1" uuid="6979d02c-3176-4c0b-bbf2-e7aa5201790c">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="564" y="5" width="1" height="39" uuid="6ee0bc3b-742d-435b-aa51-c0bc61e17a7d">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="5" width="1" height="39" uuid="e1c2402f-4d73-486a-b9e3-dcc0e6f67e01">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="14">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="37" height="13" uuid="a2876b5f-c946-48ef-be3f-1b9612f4e8c9">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.firstLineIndent" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
					<paragraph firstLineIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{variety}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="41" y="0" width="37" height="13" uuid="68d9dba2-ee13-4af7-8874-76162446681a">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{grade_code}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="80" y="0" width="37" height="13" uuid="9d1e64f0-679e-4c73-ab21-978f6941a804">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{basic_pack}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="119" y="0" width="37" height="13" uuid="122bb03e-cd06-45fd-a991-87950e1eaf58">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mark_code}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="158" y="0" width="37" height="13" uuid="387b1292-79d5-490b-b36b-8f698794728d">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{marketing_org}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="197" y="0" width="25" height="13" uuid="6b86a458-3fb1-429a-960d-a4641e47c302">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{packed_tm_group}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="224" y="0" width="25" height="13" uuid="ad42c166-9ba8-4bd5-9a0b-4dbf7c44d6f2">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{inventory_code}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="251" y="0" width="20" height="13" uuid="9d134951-41cb-4b5e-9245-84e46a2b7c49">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Left">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{actual_count}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="313" y="0" width="39" height="13" uuid="9d654891-6ab4-4919-b657-20db49efb009">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{carton_quantity}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="354" y="0" width="50" height="13" uuid="617d8375-a95d-4748-acd2-636c1acf2c6a">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{use_packed_weight} ?$F{nett_weight}:$F{derived_nett_weight}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00#;#,##0.00#-" isBlankWhenNull="true">
				<reportElement x="406" y="0" width="40" height="13" uuid="bcfb54d5-e026-4603-b3a0-43fe5385fc89">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{use_packed_weight} ? ($F{nett_weight}/$F{total_bin_weight}) * 100 : ($F{derived_nett_weight}/$F{total_bin_weight}) * 100).setScale(2,RoundingMode.HALF_UP)]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="537" y="0" width="25" height="13" uuid="8ed5157a-aaa9-47c9-b846-25e84dce3c86">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="450" y="0" width="38" height="13" uuid="f20bb44f-4992-42d8-9d33-bcc584fdde4e">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="490" y="1" width="45" height="13" uuid="922b8f2e-c87a-4a3c-a99d-bb51d1d9a97b">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
			</textField>
			<staticText>
				<reportElement x="272" y="0" width="5" height="13" uuid="15e1da6a-e551-4d89-8c91-7c2f8f675a89">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<printWhenExpression><![CDATA[$F{actual_count} != null ]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[/]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="278" y="0" width="33" height="13" uuid="1ba57643-e00f-4d10-9667-b8f8d198eec6">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{size_ref}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="142">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="5" y="0" width="100" height="15" uuid="f6852b76-02ad-4314-8c7b-773a7b844abc">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement>
					<font size="11" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[Rebinned Kgs]]></text>
			</staticText>
			<subreport>
				<reportElement x="192" y="8" width="200" height="5" uuid="e9d730cd-4cf8-45b7-bc64-83fcb317f3b3">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<subreportParameter name="production_run_id">
					<subreportParameterExpression><![CDATA[$P{production_run_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="dispatched_only">
					<subreportParameterExpression><![CDATA[$P{dispatched_only}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["rebins.jasper"]]></subreportExpression>
			</subreport>
			<line>
				<reportElement x="0" y="22" width="565" height="1" uuid="6122d906-4bab-4546-9d7e-24637203674b">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="565" y="0" width="1" height="23" uuid="c3c9e722-bc2c-40ea-a1fa-b01f38137ebd">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="0" width="1" height="23" uuid="48262f5c-00e0-4687-8179-0baa52f77b69">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="0" width="564" height="1" uuid="572fe251-3ef1-4b7c-aa42-4a4c736246ef">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
			</line>
			<frame>
				<reportElement positionType="Float" x="0" y="30" width="564" height="35" uuid="b1f06e81-f1d4-44d5-adc9-3c85b160d0ad">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<staticText>
					<reportElement x="5" y="1" width="120" height="15" uuid="399a9c4d-32ed-4c4d-83c8-b82868d672fc">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font size="11" isBold="true" isUnderline="false"/>
					</textElement>
					<text><![CDATA[Counts Summary]]></text>
				</staticText>
				<subreport>
					<reportElement x="141" y="16" width="195" height="2" uuid="8d59542f-2139-4b8b-875d-a2ba83d991da">
						<property name="com.jaspersoft.studio.unit.height" value="px"/>
						<property name="com.jaspersoft.studio.unit.width" value="px"/>
						<property name="com.jaspersoft.studio.unit.x" value="px"/>
						<property name="com.jaspersoft.studio.unit.y" value="px"/>
					</reportElement>
					<subreportParameter name="dispatched_only">
						<subreportParameterExpression><![CDATA[$P{dispatched_only}]]></subreportParameterExpression>
					</subreportParameter>
					<subreportParameter name="production_run_id">
						<subreportParameterExpression><![CDATA[$P{production_run_id}]]></subreportParameterExpression>
					</subreportParameter>
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					<subreportExpression><![CDATA["counts_summary.jasper"]]></subreportExpression>
				</subreport>
			</frame>
			<line>
				<reportElement x="0" y="116" width="565" height="1" uuid="474208a2-7081-4d0b-922c-d4428ca7c356">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<subreport>
				<reportElement positionType="Float" x="0" y="100" width="566" height="8" uuid="8fd9b457-550e-4549-99d3-1c59c0404e05">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<printWhenExpression><![CDATA[$F{has_qc_defect}]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="dispatched_only">
					<subreportParameterExpression><![CDATA[$P{dispatched_only}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="production_run_id">
					<subreportParameterExpression><![CDATA[$P{production_run_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["qc_defect.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
